
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Histogramas &#8212; Tutorial de Python</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/translations.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="prev" title="Array (parte 2)" href="../numpy/array-2.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="es">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Tutorial de Python</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Introducción a Python
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Base
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../base/variables.html">
   Variables y operaciones aritméticas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../base/funciones.html">
   Funciones
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../base/listas-e-iteraciones.html">
   Listas e iteraciones
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  NumPy y matplotlib
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../numpy/array-1.html">
   Array (parte 1)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../numpy/array-2.html">
   Array (parte 2)
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Estadística
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Histogramas
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://colab.research.google.com/github/maurosilber/python-tutorial/blob/main/book/estadistica/histograma.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Colab"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_colab.png">
  </span>
<span class="headerbtn__text-container">Colab</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/estadistica/histograma.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#histograma">
   Histograma
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#grafico-de-histograma">
   Gráfico de histograma
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cantidad-de-bins">
   Cantidad de bins
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#comparando-histogramas">
   Comparando histogramas
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#graficando-multiples-histogramas">
     Graficando múltiples histogramas
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#normalizando-histogramas">
     Normalizando histogramas
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#extra">
   Extra
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#datos-truncados">
     Datos truncados
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#caso-1-bins-mas-chicos-que-la-resolucion">
       Caso 1: bins más chicos que la resolución
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#caso-2-bins-mas-grandes-que-la-resolucion">
       Caso 2: bins más grandes que la resolución
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#caso-3-bins-proporcionales-a-la-resolucion">
       Caso 3: bins proporcionales a la resolución
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Histogramas</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#histograma">
   Histograma
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#grafico-de-histograma">
   Gráfico de histograma
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cantidad-de-bins">
   Cantidad de bins
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#comparando-histogramas">
   Comparando histogramas
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#graficando-multiples-histogramas">
     Graficando múltiples histogramas
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#normalizando-histogramas">
     Normalizando histogramas
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#extra">
   Extra
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#datos-truncados">
     Datos truncados
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#caso-1-bins-mas-chicos-que-la-resolucion">
       Caso 1: bins más chicos que la resolución
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#caso-2-bins-mas-grandes-que-la-resolucion">
       Caso 2: bins más grandes que la resolución
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#caso-3-bins-proporcionales-a-la-resolucion">
       Caso 3: bins proporcionales a la resolución
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="histogramas">
<h1>Histogramas<a class="headerlink" href="#histogramas" title="Enlazar permanentemente con este título">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s2">&quot;figure&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="histograma">
<h2>Histograma<a class="headerlink" href="#histograma" title="Enlazar permanentemente con este título">#</a></h2>
<p>Un histograma es una representación de la distribución de datos numéricos.</p>
<p>Para construir un histograma,
primero hay que dividir el rango de los datos
en intervalos o <em>bins</em> (del inglés, canastas).
Luego,
se cuentan cuantos valores caen en cada <em>bin</em>.</p>
<p>NumPy ya incluye una función para esto: <code class="docutils literal notranslate"><span class="pre">np.histogram</span></code>.
Le tenemos que pasar los datos como primer parámetro,
y los bordes de los <em>bins</em> como segundo parámetro:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">bordes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">])</span>

<span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">datos</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bordes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([2, 3, 1]), array([ 0,  4,  8, 12]))
</pre></div>
</div>
</div>
</div>
<p>El primer array que devuelve
es la cantidad de datos en cada <em>bin</em>:</p>
<ul class="simple">
<li><p>entre 0 y 4, encontró 2 valores,</p></li>
<li><p>entre 4 y 8, encontró 3 valores,</p></li>
<li><p>entre 8 y 12, encontró 1 valor.</p></li>
</ul>
<p>El segundo array es el mismo array de bordes que le pasamos.</p>
<p>Devuelve este segundo array porque,
en lugar de darle explícitamente bordes,
le podemos decir que genere una cantidad de bins:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_bins</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">datos</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">num_bins</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([2, 2, 2]), array([1.        , 3.66666667, 6.33333333, 9.        ]))
</pre></div>
</div>
</div>
</div>
<p>Noten que cambió la cantidad de valores en cada bin,
porque cambió la posición de los bins.</p>
<p>Cuando genera los <em>bins</em>,
internamente hace lo siguiente:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_bordes</span> <span class="o">=</span> <span class="n">num_bins</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">datos</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">datos</span><span class="p">),</span> <span class="n">num_bordes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([1.        , 3.66666667, 6.33333333, 9.        ])
</pre></div>
</div>
</div>
</div>
<p>Es decir,
genera los bordes equiespaciados
entre el mínimo y máximo de los datos.</p>
</section>
<section id="grafico-de-histograma">
<h2>Gráfico de histograma<a class="headerlink" href="#grafico-de-histograma" title="Enlazar permanentemente con este título">#</a></h2>
<p>Generalmente,
para graficar un histograma,
se realiza un gráfico de barras,
donde la altura corresponde a la cantidad de valores,
y el ancho esta dado por el intervalo que ocupa un <em>bin</em>.</p>
<p>Para realizar un (gráfico de) histograma,
pueden usar la función <code class="docutils literal notranslate"><span class="pre">plt.hist</span></code> de matplotlib:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">datos</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bordes</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Magnitud [unidad]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Cantidad de valores&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;Cantidad de valores&#39;)
</pre></div>
</div>
<img alt="../_images/histograma_11_1.png" src="../_images/histograma_11_1.png" />
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Como los datos son inventados,
los nombres de los ejes son genéricos.
En un caso particular,
pueden poner nombres más explícitos.
Por ejemplo,
si los datos fuesen de alturas de personas,
pueden poner <code class="docutils literal notranslate"><span class="pre">Altura</span> <span class="pre">[cm]</span></code> en el eje x,
y <code class="docutils literal notranslate"><span class="pre">Cantidad</span> <span class="pre">de</span> <span class="pre">personas</span></code> en el eje y.</p>
</div>
<p>Internamente,
<code class="docutils literal notranslate"><span class="pre">plt.hist</span></code> llama la función <code class="docutils literal notranslate"><span class="pre">np.histogram</span></code>,
y usa el resultado para realizar el gráfico de barras.</p>
<p>La primer barra está entre 0 y 4,
porque así habíamos definido los bordes para el primer bin,
y tiene altura 2, porque hay dos valores ahí.</p>
<p>Si le pasamos la cantidad de bins,
va a hacer un gráfico distinto.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">datos</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>  <span class="c1"># le pintamos los bordes</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Cantidad de valores&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;Cantidad de valores&#39;)
</pre></div>
</div>
<img alt="../_images/histograma_14_1.png" src="../_images/histograma_14_1.png" />
</div>
</div>
<p>Hay una arbitrariedad al elegir
la cantidad y posición de
los <em>bins</em>.
¿Cuál es el «correcto»?</p>
</section>
<section id="cantidad-de-bins">
<h2>Cantidad de bins<a class="headerlink" href="#cantidad-de-bins" title="Enlazar permanentemente con este título">#</a></h2>
<p>En general,
no tiene sentido hacer un histograma con tan pocos datos.</p>
<p>Para mostrar que sucede al armar un histograma con muchos datos,
vamos a usar un generador de números (pseudo)aleatorios.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># con esto, se repite la secuencia pseudoaleatoria.</span>
<span class="n">datos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">3_000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>En la linea anterior,
generamos 3000 números con una distribución particular,
llamada distribución normal o gaussiana.</p>
<p>Veamos los 5 primeros:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datos</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([1.76405235, 0.40015721, 0.97873798, 2.2408932 , 1.86755799])
</pre></div>
</div>
</div>
</div>
<p>Una forma posible de visualizar estos datos
es con un gráfico de puntos:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">datos</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Índice del dato&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Valor del dato&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;Valor del dato&#39;)
</pre></div>
</div>
<img alt="../_images/histograma_21_1.png" src="../_images/histograma_21_1.png" />
</div>
</div>
<p>Pero este gráfico
no nos permite apreciar la densidad de puntos.</p>
<p>Está claro que
hay más puntos en el intervalo <span class="math notranslate nohighlight">\((0, 1)\)</span>
que en el intervalo <span class="math notranslate nohighlight">\((3, 4)\)</span>.</p>
<p>Pero,
¿hay más puntos en <span class="math notranslate nohighlight">\((0.0, 0.5)\)</span> o en <span class="math notranslate nohighlight">\((0.5, 1.0)\)</span>?
¿O hay aproximadamente la misma cantidad?</p>
<p>Un histograma nos permite contestar esta pregunta.</p>
<p>¿Y cómo elegimos los <em>bins</em>?
Una opción,
es dejar que los elija automáticamente,
en base a un algoritmo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">datos</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Cantidad de datos&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;Cantidad de datos&#39;)
</pre></div>
</div>
<img alt="../_images/histograma_23_1.png" src="../_images/histograma_23_1.png" />
</div>
</div>
<p>Con este gráfico,
podemos entender mejor la distribución de números.
Hay más datos alrededor del 0,
y la cantidad disminuye a medida que nos alejamos.</p>
<p>Pero la elección automática de <em>bins</em> puede fallar.
Veamos que pasa si variamos el número a mano:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">n_bins</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">1_000</span><span class="p">)):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">datos</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">n_bins</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;#bins = </span><span class="si">{</span><span class="n">n_bins</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/histograma_25_0.png" src="../_images/histograma_25_0.png" />
</div>
</div>
<p>En el primer caso,
con un solo bin,
solo nos enteramos de:</p>
<ul class="simple">
<li><p>la cantidad total de datos, es decir, la altura de la barra,</p></li>
<li><p>el mínimo y el máximo de los datos, el intervalo que cubre la barra.</p></li>
</ul>
<p>Si aumentamos a 5 bins,
aprendemos un poco más de la distribución:
no están uniformemente distribuidos en ese rango,
sino que hay más alrededor del centro.</p>
<p>Y si llegamos a 40,
vemos que la distribución tiene una forma particular,
de campana.</p>
<p>Pero,
si seguimos subiendo la cantidad,
en algún momento se deja de ver una forma «suave»,
como en el caso de 300 bins.
De un bin al siguiente,
cambia significativamente la cantidad de datos.</p>
<p>Y si subimos mucho la cantidad,
como en el de 1000 bins,
ya se deja de distinguir la forma.
Parece más una pirámide que una campana.</p>
<p>En el limite de muchos bins,
cada bin tendría un solo dato,
y sería como haber hecho el gráfico de puntos
que hicimos antes.</p>
<p>En general,
la elección de bins va a depender
tanto de la cantidad de datos que tengamos
como de la distribución que tengan dichos datos.</p>
</section>
<section id="comparando-histogramas">
<h2>Comparando histogramas<a class="headerlink" href="#comparando-histogramas" title="Enlazar permanentemente con este título">#</a></h2>
<section id="graficando-multiples-histogramas">
<h3>Graficando múltiples histogramas<a class="headerlink" href="#graficando-multiples-histogramas" title="Enlazar permanentemente con este título">#</a></h3>
<p>Supongamos que tenemos dos series de 1000 datos:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">x2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>y queremos comparar sus histogramas.</p>
<p>Al hacer múltiples histogramas,
el nuevo histograma tapa el anterior.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Cantidad de datos&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;Cantidad de datos&#39;)
</pre></div>
</div>
<img alt="../_images/histograma_31_1.png" src="../_images/histograma_31_1.png" />
</div>
</div>
<p>En ese caso,
pueden agregarle la opción <code class="docutils literal notranslate"><span class="pre">histtype=&quot;step&quot;</span></code>
para cambiar la forma en que grafica:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Cantidad de datos&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;Cantidad de datos&#39;)
</pre></div>
</div>
<img alt="../_images/histograma_33_1.png" src="../_images/histograma_33_1.png" />
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Truco</p>
<p>Para muchos bins,
<code class="docutils literal notranslate"><span class="pre">histtype=&quot;step&quot;</span></code> tarda mucho menos en hacer el gráfico.</p>
</div>
</section>
<section id="normalizando-histogramas">
<h3>Normalizando histogramas<a class="headerlink" href="#normalizando-histogramas" title="Enlazar permanentemente con este título">#</a></h3>
<p>Capaz notaron que,
en el gráfico anterior,
generamos los bins aparte,
en lugar de decirle la cantidad de bins a <code class="docutils literal notranslate"><span class="pre">plt.hist</span></code>.</p>
<p>Esto se debe a que
la altura del histograma
no solo depende de la cantidad de bins,
sino también del ancho de bin.
Un bin más ancho engloba más cantidad de datos.</p>
<p>Miremos el siguiente ejemplo,
donde graficamos los mismos datos dos veces,
pero con distinta cantidad de bins:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Cantidad de datos&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;Cantidad de datos&#39;)
</pre></div>
</div>
<img alt="../_images/histograma_36_1.png" src="../_images/histograma_36_1.png" />
</div>
</div>
<p>Entonces,
si queremos comparar en cantidad de datos,
tenemos que usar los mismos bins.
No tiene sentido
comparar la cantidad de datos
en el intervalo <span class="math notranslate nohighlight">\((0, 1)\)</span> contra la de <span class="math notranslate nohighlight">\((0, 5)\)</span>.</p>
<p>Pero no siempre nos conviene usar la misma cantidad de bins.
Si tenemos dos series de datos
con diferente cantidad de datos,
100 y 10.000,
vamos a querer graficar el segundo con bins más angostos,
para apreciar mejor su forma.</p>
<p>Para esos casos,
podemos <em>normalizar</em> el histograma
con el parámetro <code class="docutils literal notranslate"><span class="pre">density=True</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Densidad de fracción de valores&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;Densidad de fracción de valores&#39;)
</pre></div>
</div>
<img alt="../_images/histograma_38_1.png" src="../_images/histograma_38_1.png" />
</div>
</div>
<p>La normalización es tal que
el área de cada bin,
es decir,
su ancho por su altura,
es la fracción de valores que cayeron ahí.
Por lo tanto,
la suma de las áreas da 1 (o, 100%).</p>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>Esta normalización solo es válida para variables continuas.
Si queremos normalizar un histograma de variables discretas,
como el resultado de tirar muchas veces un dado,
la normalización tiene que ser tal que la suma de las alturas
(no el área)
sea 1.</p>
</div>
<p>Si se fijan atentamente,
cada bin azul es el promedio
de los dos bins naranjas que abarca.
Pero justo porque estamos comparando 10 contra 20 bins y quedan alineados.</p>
</section>
</section>
<section id="extra">
<h2>Extra<a class="headerlink" href="#extra" title="Enlazar permanentemente con este título">#</a></h2>
<section id="datos-truncados">
<h3>Datos truncados<a class="headerlink" href="#datos-truncados" title="Enlazar permanentemente con este título">#</a></h3>
<p>En física,
generalmente trabajamos con datos continuos,
como tiempos o longitudes.
Sin embargo,
cuando medimos tenemos una precisión finita,
y las mediciones se truncan a una cierta cantidad de dígitos.
Esto puede traer problemas al hacer un histograma
si el ancho de bin es del orden de dicha precisión.</p>
<p>Por ejemplo,
supongamos que medimos con un cronómetro
que mide a la décima de segundo.
Un valor de tiempo «real» <span class="math notranslate nohighlight">\(t=3.141592... \text{ s}\)</span>
lo mediríamos como <span class="math notranslate nohighlight">\(t=3.1 \text{ s}\)</span>. Podemos simular esto con la función <code class="docutils literal notranslate"><span class="pre">np.round</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mf">3.141592</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.1
</pre></div>
</div>
</div>
</div>
<p>Entonces,
generemos muchos datos,
redondeémoslos,
y comparemos sus histogramas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10_000</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="caso-1-bins-mas-chicos-que-la-resolucion">
<h4>Caso 1: bins más chicos que la resolución<a class="headerlink" href="#caso-1-bins-mas-chicos-que-la-resolucion" title="Enlazar permanentemente con este título">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ancho_bin</span> <span class="o">=</span> <span class="mf">0.08</span>
<span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">ancho_bin</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Sin redondear&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Redondeados&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axes</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;Cantidad de datos&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/histograma_45_0.png" src="../_images/histograma_45_0.png" />
</div>
</div>
<p>La forma del histograma es parecida,
pero el redondeado tiene <em>huecos</em> cada tanto.</p>
<p>Esto se debe a que
el ancho de bin,
<code class="docutils literal notranslate"><span class="pre">0.08</span></code>,
ligeramente más chico que la resolución,
<code class="docutils literal notranslate"><span class="pre">0.1</span></code>,
cada cierta cantidad de bins,
un bin no encuentra ningún valor en ese rango.</p>
<p>Por ejemplo,
si un bin va de 0.03 a 0.11,
el siguiente va a ir de 0.11 a 0.19,
y no va a encontrar ninguna medición ahí.
Las mediciones que cayeron en ese rango
se redondearon a 0.1 o 0.2.</p>
</section>
<section id="caso-2-bins-mas-grandes-que-la-resolucion">
<h4>Caso 2: bins más grandes que la resolución<a class="headerlink" href="#caso-2-bins-mas-grandes-que-la-resolucion" title="Enlazar permanentemente con este título">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ancho_bin</span> <span class="o">=</span> <span class="mf">0.14</span>
<span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">ancho_bin</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Sin redondear&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Redondeados&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axes</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;Cantidad de datos&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/histograma_48_0.png" src="../_images/histograma_48_0.png" />
</div>
</div>
<p>En este caso,
no hay huecos en el histograma,
pero se ven estos picos
con muchos más datos que sus vecinos.</p>
<p>Al redondear,
los datos solo pueden caer en lugares discretos,
múltiplos de la resolución,
<code class="docutils literal notranslate"><span class="pre">0.1</span></code>.
Al ser el ancho de bin un poco más grande que la resolución,
cada cierta cantidad de bins,
un bin abarca dos de estos lugares discretos.</p>
<p>Pueden ver lo mismo en este caso más simple,
con datos equiespaciados en <code class="docutils literal notranslate"><span class="pre">0.1</span></code>,
y pero bins de ancho <code class="docutils literal notranslate"><span class="pre">0.14</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">])</span>
<span class="n">bordes</span> <span class="o">=</span> <span class="mf">0.14</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">datos</span><span class="p">,</span> <span class="n">bordes</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">datos</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">full_like</span><span class="p">(</span><span class="n">datos</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;C1&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;datos&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">bordes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.  , 0.14, 0.28, 0.42, 0.56])
</pre></div>
</div>
<img alt="../_images/histograma_50_1.png" src="../_images/histograma_50_1.png" />
</div>
</div>
</section>
<section id="caso-3-bins-proporcionales-a-la-resolucion">
<h4>Caso 3: bins proporcionales a la resolución<a class="headerlink" href="#caso-3-bins-proporcionales-a-la-resolucion" title="Enlazar permanentemente con este título">#</a></h4>
<p>Si usamos un múltiplo de la resolución
para el ancho de bin,
se resuelve el problema que mencionamos:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">resolucion</span> <span class="o">=</span> <span class="mf">0.1</span>

<span class="n">ancho_bin</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">resolucion</span>
<span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">ancho_bin</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Sí - x2&quot;</span><span class="p">)</span>

<span class="n">ancho_bin</span> <span class="o">=</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">resolucion</span>
<span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">ancho_bin</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;No - x2.5&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Múltiplo de la resolución&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Cantidad de datos&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;Cantidad de datos&#39;)
</pre></div>
</div>
<img alt="../_images/histograma_52_1.png" src="../_images/histograma_52_1.png" />
</div>
</div>
<p>Este problema no es tan relevante
cuando el ancho de bin es mucho mayor
a la resolución de nuestras mediciones.</p>
<p>Por ejemplo,
con un ancho de ~5 veces la resolución,
ya no es tan relevante:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">resolucion</span> <span class="o">=</span> <span class="mf">0.1</span>

<span class="n">ancho_bin</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">*</span> <span class="n">resolucion</span>
<span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">ancho_bin</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Sí - x5&quot;</span><span class="p">)</span>

<span class="n">ancho_bin</span> <span class="o">=</span> <span class="mf">5.5</span> <span class="o">*</span> <span class="n">resolucion</span>
<span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">ancho_bin</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;No - x5.5&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Múltiplo de la resolución&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Cantidad de datos&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;Cantidad de datos&#39;)
</pre></div>
</div>
<img alt="../_images/histograma_54_1.png" src="../_images/histograma_54_1.png" />
</div>
</div>
<p>Si llegaran a tener este problema,
acá les dejamos una función
para generar <span class="math notranslate nohighlight">\(N\)</span> bins para datos truncados por la resolución:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">generar_bins_truncados</span><span class="p">(</span><span class="n">datos</span><span class="p">,</span> <span class="n">resolucion</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">n_bins</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Genera bins para datos truncados a una dada resolución.&quot;&quot;&quot;</span>
    <span class="c1"># Como el ancho de bin va a ser un múltiplo de la resolución,</span>
    <span class="c1"># le sumo y resto media resolución a los extremos,</span>
    <span class="c1"># para no tener problemas numéricos en los bordes de los bins.</span>
    <span class="n">x_min</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">datos</span><span class="p">)</span> <span class="o">-</span> <span class="n">resolucion</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">x_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">datos</span><span class="p">)</span> <span class="o">+</span> <span class="n">resolucion</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="c1"># El paso para dividir el intervalo en n_bins</span>
    <span class="n">paso</span> <span class="o">=</span> <span class="p">(</span><span class="n">x_max</span> <span class="o">-</span> <span class="n">x_min</span><span class="p">)</span> <span class="o">/</span> <span class="n">n_bins</span>
    <span class="c1"># que convierto en un múltiplo de la resolución</span>
    <span class="n">paso</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">paso</span> <span class="o">/</span> <span class="n">resolucion</span><span class="p">)</span> <span class="o">*</span> <span class="n">resolucion</span>
    <span class="n">bins</span> <span class="o">=</span> <span class="n">x_min</span> <span class="o">+</span> <span class="n">paso</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n_bins</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">bins</span>


<span class="n">n</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Sin truncar&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span>
    <span class="n">y</span><span class="p">,</span>
    <span class="n">bins</span><span class="o">=</span><span class="n">generar_bins_truncados</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">resolucion</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">n_bins</span><span class="o">=</span><span class="n">n</span><span class="p">),</span>
    <span class="n">histtype</span><span class="o">=</span><span class="s2">&quot;step&quot;</span><span class="p">,</span>
    <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Truncados&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x7fa76c377bb0&gt;
</pre></div>
</div>
<img alt="../_images/histograma_56_1.png" src="../_images/histograma_56_1.png" />
</div>
</div>
</section>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python",
            path: "./estadistica"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../numpy/array-2.html" title="anterior página">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">anterior</p>
            <p class="prev-next-title">Array (parte 2)</p>
        </div>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Mauro Silberberg<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>